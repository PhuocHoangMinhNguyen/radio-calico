<audio #audioPlayer class="audio-player">
  Your browser does not support the audio element.
</audio>

<div class="player-bar-container">
  <!-- Left: Track Info -->
  <div class="track-info">
    @if (hasTrackInfo()) {
      @if (coverUrl()) {
        <img [src]="coverUrl()" alt="Album art" class="track-cover" />
      }
      <div class="track-details">
        <span class="track-title">{{ currentTrack()!.title }}</span>
        <span class="track-artist">{{ currentTrack()!.artist }}</span>
      </div>
    } @else {
      <div class="track-details">
        <span class="track-title placeholder">{{ statusMessage() }}</span>
      </div>
    }
  </div>

  <!-- Center: Playback Controls -->
  <div class="playback-controls">
    <button
      class="play-btn"
      type="button"
      (click)="onTogglePlayPause()"
      [attr.aria-label]="isPlaying() ? 'Pause' : 'Play'"
    >
      @if (isPlaying()) {
        <span class="material-icons" aria-hidden="true">pause</span>
      } @else {
        <span class="material-icons" aria-hidden="true">play_arrow</span>
      }
    </button>
  </div>

  <!-- Right: Volume -->
  <div class="volume-section" [class.muted]="isMuted() || volume() === 0">
    <button
      class="volume-btn"
      type="button"
      (click)="onToggleMute()"
      [attr.aria-label]="isMuted() || volume() === 0 ? 'Unmute' : 'Mute'"
    >
      <span class="material-icons volume-icon" aria-hidden="true">{{ volumeIcon() }}</span>
    </button>
    <input
      type="range"
      min="0"
      max="100"
      [value]="isMuted() ? 0 : volume() * 100"
      class="volume-slider"
      (input)="onVolumeChange($event)"
      aria-label="Volume"
      [attr.aria-valuenow]="isMuted() ? 0 : volume() * 100"
    />
  </div>
</div>

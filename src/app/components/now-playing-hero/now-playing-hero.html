<section class="now-playing-hero">
  <div class="hero-content">
    @if (coverUrl()) {
      <img
        [src]="coverUrl()"
        alt="Album art"
        class="hero-cover"
        loading="eager"
        fetchpriority="high"
        decoding="async"
      />
    } @else {
      <div class="hero-cover placeholder">
        <span class="material-icons">music_note</span>
      </div>
    }

    <div class="hero-info">
      <span class="now-playing-label">NOW PLAYING</span>
      @if (hasTrackInfo()) {
        <h1 class="track-title">{{ currentTrack()!.title }}</h1>
        <p class="track-artist">{{ currentTrack()!.artist }}</p>
      } @else {
        <h1 class="track-title placeholder">Waiting for track info...</h1>
      }

      <div class="track-actions">
        <app-song-rating />
        <app-share-button />
        <button
          class="theme-btn mobile-only"
          type="button"
          (click)="toggleTheme()"
          [attr.aria-label]="theme() === 'dark' ? 'Switch to light mode' : 'Switch to dark mode'"
        >
          <span class="material-icons" aria-hidden="true">
            {{ theme() === 'dark' ? 'light_mode' : 'dark_mode' }}
          </span>
        </button>
      </div>

      <app-listening-stats class="mobile-stats" />
    </div>
  </div>
</section>
